<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Marry Me?</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* All previous styles remain the same, just add these: */
        
        /* Audio controls styling */
        .audio-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            background: white;
            padding: 15px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .audio-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #ff4d8d;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .audio-btn:hover {
            background: #ff3366;
            transform: scale(1.1);
        }
        
        .volume-slider {
            width: 100px;
        }
        
        /* Photo upload styling */
        .upload-btn {
            background-color: #8a2b8a;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .upload-btn:hover {
            background-color: #6a1b6a;
            transform: translateY(-3px);
        }
        
        .photo-instructions {
            font-size: 0.9rem;
            color: #666;
            margin-top: 10px;
            font-style: italic;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="hearts" id="hearts-container"></div>
    
    <!-- Audio Controls -->
    <div class="audio-controls">
        <button id="playBtn" class="audio-btn">
            <i class="fas fa-play"></i>
        </button>
        <button id="pauseBtn" class="audio-btn">
            <i class="fas fa-pause"></i>
        </button>
        <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.1" value="0.3">
        <span id="songTitle">Our Song</span>
    </div>
    
    <!-- Audio Element (hidden) -->
    <audio id="backgroundMusic" loop>
        <!-- Replace with your audio file -->
        <source src="romantic-music.mp3" type="audio/mpeg">
        <source src="romantic-music.ogg" type="audio/ogg">
        Your browser does not support the audio element.
    </audio>
    
    <div class="container">
        <header>
            <h1>My Dearest Love</h1>
            <div class="subtitle">A special message for you on Proposal Day</div>
        </header>
        
        <div class="message-container">
            <div class="couple-photo" id="photo-container">
                <!-- Placeholder for a couple photo -->
                <div class="placeholder-photo">
                    <i class="fas fa-heart"></i>
                </div>
            </div>
            
            <!-- Photo Upload Button -->
            <div style="text-align: center;">
                <button class="upload-btn" id="uploadPhotoBtn">
                    <i class="fas fa-camera"></i> Upload Our Photo
                </button>
                <input type="file" id="photoUpload" accept="image/*" class="hidden">
                <p class="photo-instructions">Click to upload a photo of us, or click the heart above to use a sample</p>
            </div>
            
            <div class="message">
                <p>My love, from the moment we met, you've filled my life with joy, laughter, and a love I never knew existed.</p>
                <p>Every day with you is a blessing, and every moment we share is a treasure I hold close to my heart.</p>
                <p>You are my sunshine on cloudy days, my strength when I'm weak, and my happiness always.</p>
                <p>Today, on this special day, I want to ask you the most important question of my life...</p>
            </div>
        </div>
        
        <!-- Rest of the HTML remains the same -->
        <div class="proposal-box">
            <div class="proposal-question">Will you make me the happiest person and marry me?</div>
            
            <div class="buttons">
                <button class="btn yes-btn" id="yesBtn">YES! A Thousand Times Yes!</button>
                <button class="btn no-btn" id="noBtn">Maybe Later</button>
            </div>
            
            <div class="response-message" id="responseMessage">
                <div class="ring">
                    <i class="fas fa-ring"></i>
                </div>
                <div id="responseText"></div>
            </div>
        </div>
        
        <footer>
            <p>With all my love, forever and always.</p>
            <p class="love-note">You are the love story I always wanted to tell.</p>
        </footer>
    </div>

    <script>
        // ==================== AUDIO CONTROLS ====================
        const backgroundMusic = document.getElementById('backgroundMusic');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        const songTitle = document.getElementById('songTitle');
        
        // Set default volume
        backgroundMusic.volume = 0.3;
        
        // Play button
        playBtn.addEventListener('click', function() {
            backgroundMusic.play();
            playBtn.style.display = 'none';
            pauseBtn.style.display = 'flex';
        });
        
        // Pause button
        pauseBtn.addEventListener('click', function() {
            backgroundMusic.pause();
            playBtn.style.display = 'flex';
            pauseBtn.style.display = 'none';
        });
        
        // Initially hide pause button
        pauseBtn.style.display = 'none';
        
        // Volume control
        volumeSlider.addEventListener('input', function() {
            backgroundMusic.volume = this.value;
        });
        
        // Auto-play when user interacts with page (browser requirement)
        document.addEventListener('click', function initAudio() {
            // Try to play audio
            backgroundMusic.play().then(() => {
                console.log("Music started successfully");
                playBtn.style.display = 'none';
                pauseBtn.style.display = 'flex';
            }).catch(error => {
                console.log("Autoplay prevented. User must click play button.");
                playBtn.style.display = 'flex';
                pauseBtn.style.display = 'none';
            });
            
            // Remove this listener after first click
            document.removeEventListener('click', initAudio);
        }, { once: true });
        
        // ==================== PHOTO UPLOAD ====================
        const uploadPhotoBtn = document.getElementById('uploadPhotoBtn');
        const photoUpload = document.getElementById('photoUpload');
        const photoContainer = document.getElementById('photo-container');
        const placeholder = document.querySelector('.placeholder-photo');
        
        // Open file dialog when upload button is clicked
        uploadPhotoBtn.addEventListener('click', function() {
            photoUpload.click();
        });
        
        // Handle photo selection
        photoUpload.addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    // Remove placeholder
                    placeholder.style.display = 'none';
                    
                    // Remove existing image if any
                    const existingImg = photoContainer.querySelector('img');
                    if (existingImg) {
                        existingImg.remove();
                    }
                    
                    // Create new image
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.alt = 'Our Special Photo';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.borderRadius = '50%';
                    
                    photoContainer.appendChild(img);
                    
                    // Show success message
                    uploadPhotoBtn.innerHTML = '<i class="fas fa-check"></i> Photo Updated!';
                    uploadPhotoBtn.style.backgroundColor = '#4CAF50';
                    
                    setTimeout(() => {
                        uploadPhotoBtn.innerHTML = '<i class="fas fa-camera"></i> Change Photo';
                        uploadPhotoBtn.style.backgroundColor = '#8a2b8a';
                    }, 2000);
                };
                
                reader.readAsDataURL(file);
            }
        });
        
        // Click photo to use sample (original functionality)
        photoContainer.addEventListener('click', function() {
            // If there's no uploaded photo, use sample
            if (!photoContainer.querySelector('img')) {
                placeholder.style.display = 'none';
                
                const img = document.createElement('img');
                // Replace with your preferred sample photo URL
                img.src = 'https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80';
                img.alt = 'Couple in love';
                img.style.width = '100%';
                img.style.height = '100%';
                img.style.objectFit = 'cover';
                img.style.borderRadius = '50%';
                img.style.filter = 'sepia(0.3) brightness(1.1)';
                
                photoContainer.appendChild(img);
            }
        });
        
        // ==================== SETUP INSTRUCTIONS ====================
        
        // Instructions for setting up your own audio
        console.log(`
        ==============================================
        HOW TO ADD YOUR OWN MUSIC:
        1. Place your music file in the same folder as this HTML file
        2. Rename your file to: romantic-music.mp3
        3. If you have a different format, change line 87:
           <source src="YOUR-FILENAME.mp3" type="audio/mpeg">
        
        Recommended free romantic music sources:
        - YouTube Audio Library (free, no copyright)
        - BenSound (royalty-free music)
        - Incompetech (Kevin MacLeod's free music)
        ==============================================
        `);
        
        // ==================== ORIGINAL CODE (with updates) ====================
        
        // Create floating hearts
        const heartsContainer = document.getElementById('hearts-container');
        const heartIcons = ['‚ù§Ô∏è', 'üíñ', 'üíï', 'üíó', 'üíì', 'üíû'];
        
        for (let i = 0; i < 25; i++) {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = heartIcons[Math.floor(Math.random() * heartIcons.length)];
            
            // Random position and animation
            heart.style.left = `${Math.random() * 100}%`;
            heart.style.animationDuration = `${Math.random() * 5 + 5}s`;
            heart.style.animationDelay = `${Math.random() * 5}s`;
            heart.style.fontSize = `${Math.random() * 20 + 20}px`;
            heart.style.opacity = Math.random() * 0.5 + 0.3;
            
            heartsContainer.appendChild(heart);
        }
        
        // Handle proposal buttons
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const responseMessage = document.getElementById('responseMessage');
        const responseText = document.getElementById('responseText');
        const ring = document.querySelector('.ring');
        
        yesBtn.addEventListener('click', function() {
            responseText.innerHTML = "You've made me the happiest person in the world! I can't wait to spend forever with you! üíñ";
            responseMessage.style.display = 'block';
            ring.style.display = 'block';
            
            // Create explosion of hearts
            createHeartExplosion();
            
            // Play romantic sound
            playCelebrationSound();
        });
        
        noBtn.addEventListener('click', function() {
            // Move the "No" button randomly
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            
            noBtn.style.position = 'absolute';
            noBtn.style.left = `${x}px`;
            noBtn.style.top = `${y}px`;
            
            // Change text after a few tries
            const messages = [
                "Are you sure?",
                "Think about it!",
                "Give me a chance!",
                "You know you want to!",
                "Pretty please?",
                "I'll keep asking!",
                "You're breaking my heart!",
                "Last chance to say yes!"
            ];
            
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];
            noBtn.textContent = randomMsg;
            
            // After several clicks, change to yes
            let clickCount = parseInt(noBtn.getAttribute('data-clicks') || '0');
            clickCount++;
            noBtn.setAttribute('data-clicks', clickCount);
            
            if (clickCount >= 5) {
                noBtn.textContent = "Okay, YES!";
                noBtn.classList.remove('no-btn');
                noBtn.classList.add('yes-btn');
                noBtn.style.position = 'static';
                
                noBtn.addEventListener('click', function() {
                    responseText.innerHTML = "I knew you'd come around! I love you more than words can say! üíï";
                    responseMessage.style.display = 'block';
                    ring.style.display = 'block';
                    createHeartExplosion();
                    playCelebrationSound();
                }, {once: true});
            }
        });
        
        // Create heart explosion effect
        function createHeartExplosion() {
            for (let i = 0; i < 50; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = heartIcons[Math.floor(Math.random() * heartIcons.length)];
                
                // Random position
                heart.style.left = `${Math.random() * 100}%`;
                heart.style.top = `${Math.random() * 100}%`;
                heart.style.animationDuration = `${Math.random() * 3 + 2}s`;
                heart.style.fontSize = `${Math.random() * 30 + 20}px`;
                heart.style.opacity = Math.random() * 0.7 + 0.3;
                heart.style.zIndex = '1000';
                heart.style.position = 'fixed';
                
                document.body.appendChild(heart);
                
                // Remove heart after animation
                setTimeout(() => {
                    heart.remove();
                }, 3000);
            }
        }
        
        // Play celebration sound
        function playCelebrationSound() {
            // You can add a special celebration sound here
            console.log("Celebration! üéâ");
            
            // Example of adding a celebration sound effect:
            // const celebrationSound = new Audio('celebration.mp3');
            // celebrationSound.volume = 0.5;
            // celebrationSound.play();
        }
        
        // Add romantic quotes
        const messageEl = document.querySelector('.message');
        const romanticQuotes = [
            "I love you not only for what you are, but for what I am when I am with you.",
            "You are my today and all of my tomorrows.",
            "In all the world, there is no heart for me like yours.",
            "I saw that you were perfect, and so I loved you. Then I saw that you were not perfect and I loved you even more.",
            "If I had a flower for every time I thought of you, I could walk in my garden forever.",
            "My love for you is a journey; starting at forever and ending at never."
        ];
        
        let quoteIndex = 0;
        setInterval(() => {
            const p = document.createElement('p');
            p.textContent = romanticQuotes[quoteIndex];
            p.style.marginTop = '20px';
            p.style.fontStyle = 'italic';
            p.style.color = '#8a2b8a';
            
            messageEl.appendChild(p);
            
            // Remove after 8 seconds
            setTimeout(() => {
                if (p.parentNode) {
                    p.remove();
                }
            }, 8000);
            
            quoteIndex = (quoteIndex + 1) % romanticQuotes.length;
        }, 10000);
    </script>
</body>
</html>
